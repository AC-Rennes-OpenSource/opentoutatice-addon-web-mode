<f:subview xmlns:f="http://java.sun.com/jsf/core"
    xmlns:c="http://java.sun.com/jstl/core"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:s="http://jboss.org/schema/seam/taglib"
    xmlns:a4j="http://richfaces.org/a4j"
    xmlns:nxu="http://nuxeo.org/nxweb/util"
    xmlns:nxdir="http://nuxeo.org/nxdirectory"
    xmlns:nxl="http://nuxeo.org/nxforms/layout" id="#{widget.id}">
    
    <c:set var="isEditMode" value="#{nxl:isBoundToEditMode(layout.mode)}" />

    <div class="form-group">
        <div class="col-sm-12">

            <fieldset>
                <legend>
                    <i class="glyphicons halflings font"></i>
                    <h:outputText value="#{messages['osivia.fragment.html.field.title']}" />
                </legend>
            </fieldset>
        </div>
    </div>

    <c:choose>
        <c:when test="${isEditMode}">

            <nxu:dataList id="html_fgts"
                value="#{currentDocument.htmlfgt.htmlFragment}" var="html_fgt"
                class="fgts">
                
                <s:div rendered="#{html_fgt.refURI eq fragmentBean.uri}">

                <div class="form-group">
                    <div class="col-sm-12 fgt-html">
                        <nxl:widgetType name="#{config.getWebsiteParamString('htmlTinyMce','ottc_htmltext')}" mode="edit"
                            value="#{html_fgt.data}" rendered="#{html_fgt.refURI eq fragmentBean.uri}" />
                    </div>
                </div>
                </s:div>

            </nxu:dataList>

        </c:when>
        <c:otherwise>


        </c:otherwise>
    </c:choose>



</f:subview>