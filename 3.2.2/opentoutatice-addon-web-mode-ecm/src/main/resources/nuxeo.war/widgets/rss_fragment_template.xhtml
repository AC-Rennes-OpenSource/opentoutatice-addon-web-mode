<f:subview xmlns:f="http://java.sun.com/jsf/core"
	xmlns:c="http://java.sun.com/jstl/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:nxu="http://nuxeo.org/nxweb/util"
	xmlns:nxdir="http://nuxeo.org/nxdirectory"
	xmlns:nxl="http://nuxeo.org/nxforms/layout" id="#{widget.id}">

	<c:set var="isEditMode" value="#{nxl:isBoundToEditMode(layout.mode)}" />

	<div class="form-group">
		<div class="col-sm-12">

			<fieldset>
				<legend>
					<i class="glyphicons social rss"></i>
					<h:outputText value="#{messages['osivia.fragment.rss.field.title']}" />
				</legend>
			</fieldset>
		</div>
	</div>

	<c:choose>
		<c:when test="${isEditMode}">

			<c:forEach
				items="#{currentDocument.rssfgt.rssFragment}" var="rss_fgt">

				<c:if test="#{rss_fgt.refURI eq fragmentBean.uri}">

				<div class="form-group">
					<label class="control-label col-sm-2" for="#{widget.id}_rssUrl">#{messages['osivia.fragment.rss.url.title']}</label>
					<div class="col-sm-10">
						<h:inputText id="#{widget.id}_rssUrl" class="form-control"
							value="#{rss_fgt.url}" required="true"/>
						<h:message id="images_message" styleClass="text-danger" for="#{widget.id}_rssUrl" />
					</div>
				</div>

				<div class="form-group">
					<label class="control-label col-sm-2" for="#{widget.id}_nbItems">#{messages['osivia.fragment.rss.nb.items.title']}</label>
					<div class="col-sm-10">
						<h:inputText id="#{widget.id}_nbItems" class="form-control"
							value="#{rss_fgt.nbItems}" />
					</div>
				</div>

				<div class="form-group">
					<label class="control-label col-sm-2" for="#{widget.id}_nbMaxItems">#{messages['osivia.fragment.rss.nb.items.max.title']}</label>
					<div class="col-sm-10">
						<h:inputText id="#{widget.id}_nbMaxItems" class="form-control"
							value="#{rss_fgt.nbItemsMax}" />
					</div>
				</div>

				<div class="form-group">
					<label class="control-label col-sm-2" for="#{widget.id}_displayMode">#{messages['osivia.fragment.rss.nb.display.title']}</label>
					<div class="col-sm-10">
					<!-- FIXME: TODO with oh tag (and so, configuration objects -->
						<h:selectOneMenu id="#{widget.id}_displayMode"
							value="#{rss_fgt.displayMode}" class="form-control">
							<f:selectItem id="#{widget.id}_displayMode_1" itemLabel="Standard" itemValue="standard" />
							<f:selectItem id="#{widget.id}_displayMode_2" itemLabel="Slider pour l'académie" itemValue="slider-aca" />
							<f:selectItem id="#{widget.id}_displayMode_3" itemLabel="Slider pour la région" itemValue="slider-region" />
							<f:selectItem id="#{widget.id}_displayMode_4" itemLabel="Slider pour Scoop.it!" itemValue="slider-scoopit" />
						</h:selectOneMenu>
					</div>
				</div>
				</c:if>
			</c:forEach>

		</c:when>
		<c:otherwise>

			<!-- TODO -->

		</c:otherwise>
	</c:choose>



</f:subview>