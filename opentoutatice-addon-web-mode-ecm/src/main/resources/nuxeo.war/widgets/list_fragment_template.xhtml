<f:subview xmlns:f="http://java.sun.com/jsf/core"
	xmlns:c="http://java.sun.com/jstl/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:s="http://jboss.org/schema/seam/taglib"
	xmlns:nxu="http://nuxeo.org/nxweb/util"
	xmlns:nxdir="http://nuxeo.org/nxdirectory"
	xmlns:nxl="http://nuxeo.org/nxforms/layout"
	xmlns:oh="http://osivia.org/html" id="#{widget.id}">
	<c:set var="mode" value="#{layout.mode}" />


	<div class="form-group">
		<div class="col-sm-12">

			<fieldset>
				<legend>
					<i class="glyphicons halflings list"></i>
					<h:outputText
						value="#{messages['osivia.fragment.list.title']}" />
				</legend>
			</fieldset>
		</div>
	</div>
	
					

	<nxu:dataList id="fgts" value="#{currentDocument.listfgt.listFragment}"
		var="fgt" rowKeyVar="index" first="0" class="fgts">
		
		<s:div rendered="#{fgt.refURI == fragmentBean.uri}">

			<div class="form-group">
				<label class="control-label col-sm-2"
					for="#{widget.id}_request">#{messages['osivia.fragment.list.form.request']}</label>
				<div class="col-sm-10">
					<nxl:widgetType id="#{widget.id}_request" name="textarea" mode="edit" class="form-control"
					title="#{messages['osivia.fragment.list.form.request.help']}"
					value="#{fgt.request}"/>
					<label>#{messages['osivia.fragment.list.form.request.exemple']}</label>
				</div>
			</div>
			
			<div class="form-group">
				<label class="control-label col-sm-2"
					for="#{widget.id}_selectListStyle">#{messages['osivia.fragment.list.form.view']}</label>
				<div class="col-sm-10">
					<oh:icons id="#{widget.id}_selectListStyle" src="#{config.listTemplates}"
							value="#{fgt.view}" ulStyleClass="cssStyleList"
							binding="#{listStyleSimpleForm.simpleComponent}"
							inputClientId="#{listStyleSimpleForm.simpleComponentClientId}"
							multiSelect="false" iconsGroup="listStyleGroup"/>
				</div>
			</div>				
		
		
			<div class="form-group">
				<label class="control-label col-sm-2"
					for="#{widget.id}_nbItems">#{messages['osivia.fragment.criteria.list.items.title']}</label>
				<div class="col-sm-10">
					<h:inputText id="#{widget.id}_nbItems" class="form-control"
						value="#{fgt.maxItems}" />
				</div>
			</div>
			
			<div class="form-group">
				<label class="control-label col-sm-2"
					for="#{widget.id}_nbItemsPage">#{messages['osivia.fragment.criteria.list.items.page.title']}</label>
				<div class="col-sm-10">
					<h:inputText id="#{widget.id}_nbItemsPage" class="form-control"
						value="#{fgt.pageSize}" />
				</div>
			</div>		
		
			<div class="form-group">
				<label class="control-label col-sm-2"
					for="#{widget.id}_list_policy">#{messages['osivia.fragment.list.form.policy']}</label>
				<div class="col-sm-10">
					<h:selectBooleanCheckbox id="#{widget.id}_list_policy" value="#{fgt.allContents}">
					</h:selectBooleanCheckbox>
				</div>
			</div>
		</s:div>

	</nxu:dataList>
</f:subview>
