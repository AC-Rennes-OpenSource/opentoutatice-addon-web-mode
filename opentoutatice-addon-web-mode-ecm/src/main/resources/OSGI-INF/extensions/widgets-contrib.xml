<?xml version="1.0"?>
<component name="org.osivia.opentoutatice.web.mode.widgets">

	<extension target="org.nuxeo.ecm.platform.forms.layout.WebLayoutManager"
		point="widgets">

		<widget name="enable_weburl" type="template">
			<labels>
				<label mode="any">webmode.label.weburl.enable</label>
			</labels>
			<translated>true</translated>
			<fields>
				<field>ottcwebc:enableWebUrl</field>
			</fields>
			<properties mode="any">
				<property name="template">/widgets/toutatice_weburl_enable_widget.xhtml
				</property>
			</properties>
			<widgetModes>
				<mode value="any">#{nxu:test(currentDocument.hasFacet('TTCPublishSpace'),
					layout.mode, 'hidden')}
				</mode>
			</widgetModes>
		</widget>

		<widget name="ottc_weburl" type="template">
			<labels>
				<label mode="any">webmode.label.weburl</label>
			</labels>
			<translated>true</translated>
			<fields>
				<field>ottcweb:segment</field>
			</fields>
			<properties widgetMode="edit">
				<property name="validator">#{webModeValidator.validateSegment}
				</property>
			</properties>

			<properties mode="any">
				<property name="template">
					/widgets/toutatice_weburl_widget.xhtml
				</property>
			</properties>

		</widget>

	</extension>

</component>